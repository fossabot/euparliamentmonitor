name-template: "Release $RESOLVED_VERSION"
tag-template: "$RESOLVED_VERSION"

# Categories match exactly with PR labels from labeler.yml
categories:
  - title: "ğŸš€ New Features"
    labels:
      - "feature"
      - "enhancement"

  - title: "ğŸŒ EU Parliament Integration"
    labels:
      - "mcp-integration"
      - "news"
      - "content"

  - title: "ğŸŒ Multi-language Support"
    labels:
      - "i18n"
      - "translation"

  - title: "ğŸ¨ UI/UX Improvements"
    labels:
      - "ui"
      - "design"
      - "style"

  - title: "ğŸ—ï¸ Infrastructure & Performance"
    labels:
      - "infrastructure"
      - "performance"
      - "config"

  - title: "ğŸ”„ Code Quality & Refactoring"
    labels:
      - "refactor"
      - "testing"

  - title: "ğŸ”’ Security & Compliance"
    labels:
      - "security"

  - title: "ğŸ“ Documentation"
    labels:
      - "documentation"

  - title: "ğŸ“¦ Dependencies"
    labels:
      - "dependencies"
      - "javascript"
      - "github_actions"
    
  - title: "ğŸ› Bug Fixes"
    labels:
      - "bug"
      - "fix"

  - title: "ğŸ§ª Test Coverage Improvements"
    labels:
      - "test-coverage-impact"
      - "needs-tests"
      - "e2e"

  - title: "ğŸ¤– Custom Agent Updates"
    labels:
      - "agents"
      - "agent-task"
      - "agent-news"
      - "agent-frontend"
      - "agent-data"
      - "agent-devops"
      - "agent-security"
      - "agent-docs"
      - "agent-quality"

  - title: "âš™ï¸ Component Updates"
    labels:
      - "workflows"
      - "scripts"

change-template: "- $TITLE @$AUTHOR (#$NUMBER)"
change-title-escapes: '\<*_&' # Escape markdown special characters


template: |
  # Highlights
  $CHANGES

  ## EU Parliament Monitor
  European Parliament Intelligence Platform - Monitor political activity with systematic transparency

  ### Key Features
  - ğŸ“° **Automated News Generation** - Generate news articles about EU Parliament activities
  - ğŸŒ **14-Language Support** - English, German, French, Spanish, Italian, Dutch, Swedish, Danish, Finnish, Polish, Romanian, Hungarian, Portuguese, Greek
  - ğŸ“… **Week Ahead Coverage** - Preview upcoming parliamentary events
  - ğŸ¤– **8 Custom GitHub Copilot Agents** - Specialized agents for development tasks
  - ğŸ”„ **European Parliament MCP Integration** - Real-time EU Parliament data access
  - ğŸ“Š **SEO Optimized** - Proper metadata, structured data, and sitemap generation

  ### Technology Stack
  - ğŸ“° **Node.js 24** - Modern JavaScript runtime with latest features
  - ğŸ¤– **GitHub Copilot Custom Agents** - AI-powered development assistance
  - ğŸ”„ **European Parliament MCP Server** - Model Context Protocol for EU data
  - ğŸŒ **Multi-language Support** - 14 languages with RTL support
  - âš™ï¸ **GitHub Actions** - Automated news generation and deployment

  ## Security & Compliance

  ### Attestations & Provenance
  [![SLSA 3](https://img.shields.io/badge/SLSA-Level%203-brightgreen?logo=github)](https://github.com/Hack23/euparliamentmonitor/attestations)
  [![OpenSSF Scorecard](https://api.securityscorecards.dev/projects/github.com/Hack23/euparliamentmonitor/badge)](https://scorecard.dev/viewer/?uri=github.com/Hack23/euparliamentmonitor)
  [![CII Best Practices](https://img.shields.io/badge/CII-In%20Progress-yellow)](https://bestpractices.coreinfrastructure.org/)

  **Verify this release:**
  ```bash
  # Verify artifact attestations
  gh attestation verify euparliamentmonitor-$RESOLVED_VERSION.zip --owner Hack23
  
  # Verify SBOM attestation
  gh attestation verify euparliamentmonitor-$RESOLVED_VERSION.spdx.json --owner Hack23
  ```

  ### ISMS Compliance
  [![Information Security Policy](https://img.shields.io/badge/ISMS-Compliant-success?logo=security&logoColor=white)](https://github.com/Hack23/ISMS-PUBLIC)
  [![Secure Development Policy](https://img.shields.io/badge/Secure%20Development-Policy-blue?logo=github&logoColor=white)](https://github.com/Hack23/ISMS-PUBLIC/blob/main/Secure_Development_Policy.md)
  [![Open Source Policy](https://img.shields.io/badge/Open%20Source-Policy-orange?logo=opensource&logoColor=white)](https://github.com/Hack23/ISMS-PUBLIC/blob/main/Open_Source_Policy.md)

  This release follows [Hack23 AB Information Security Management System (ISMS)](https://github.com/Hack23/ISMS-PUBLIC) standards:
  - **Secure Development**: ISO 27001, NIST CSF 2.0, CIS Controls v8.1
  - **Open Source**: Apache 2.0 License, REUSE 3.2 Compliant
  - **Transparency**: Evidence-based development with full audit trails

  ## Quality & Testing

  ### Test Coverage & Reports
  [![Test Coverage](https://img.shields.io/badge/Coverage-82%25-green?logo=vitest)](https://hack23.github.io/euparliamentmonitor/docs/coverage/)
  [![API Documentation](https://img.shields.io/badge/API-Docs-blue?logo=javascript)](https://hack23.github.io/euparliamentmonitor/docs/api/)
  [![E2E Test Report](https://img.shields.io/badge/E2E-Report-purple?logo=playwright)](https://hack23.github.io/euparliamentmonitor/playwright-report/)

  **View detailed reports:**
  - ğŸ“Š [Test Coverage Report](https://hack23.github.io/euparliamentmonitor/docs/coverage/) - Interactive Vitest coverage
  - ğŸ“– [API Documentation](https://hack23.github.io/euparliamentmonitor/docs/api/) - JSDoc-generated API reference
  - ğŸ­ [E2E Test Results](https://hack23.github.io/euparliamentmonitor/playwright-report/) - Playwright test execution details
  - ğŸ“‹ [Test Summary](https://hack23.github.io/euparliamentmonitor/docs/test-results/) - Aggregated test results

  ## Release Artifacts

  This release includes:
  - **euparliamentmonitor-$RESOLVED_VERSION.zip** - Full application package
  - **euparliamentmonitor-$RESOLVED_VERSION.spdx.json** - SBOM (Software Bill of Materials)
  - **euparliamentmonitor-$RESOLVED_VERSION.zip.intoto.jsonl** - Build provenance attestation
  - **euparliamentmonitor-$RESOLVED_VERSION.spdx.json.intoto.jsonl** - SBOM attestation

  All artifacts are signed and attested using GitHub's SLSA Level 3 build provenance.

  ## Contributors
  Thanks to $CONTRIBUTORS for their contributions to this release!

  **Full Changelog**: https://github.com/Hack23/euparliamentmonitor/compare/$PREVIOUS_TAG...$RESOLVED_VERSION

version-resolver:
  major:
    labels:
      - "major"
      - "breaking"
  minor:
    labels:
      - "feature"
      - "enhancement"
      - "news"
      - "mcp-integration"
      - "i18n"
  patch:
    labels:
      - "bug"
      - "fix"
      - "security"
      - "dependencies"
      - "documentation"
      - "performance"
      - "refactor"
  default: patch

# Autolabeler is BACKUP for PRs without labels
# Primary labeling happens via .github/labeler.yml
autolabeler:
  # Features & Enhancements
  - label: "feature"
    title:
      - '/^feat(\([^)]+\))?:/i'
      - '/^feature(\([^)]+\))?:/i'
      - '/^add(\([^)]+\))?:/i'
  
  - label: "enhancement"
    title:
      - '/^enhance(\([^)]+\))?:/i'
      - '/^improve(\([^)]+\))?:/i'
      - '/^improvement(\([^)]+\))?:/i'
  
  # Bug Fixes
  - label: "bug"
    title:
      - '/^fix(\([^)]+\))?:/i'
      - '/^bug(\([^)]+\))?:/i'
      - '/^bugfix(\([^)]+\))?:/i'
  
  - label: "fix"
    title:
      - '/^fix(\([^)]+\))?:/i'
  
  # News & Content
  - label: "news"
    title:
      - '/^news(\([^)]+\))?:/i'
      - '/^article(\([^)]+\))?:/i'
    files:
      - 'scripts/generate-news*'
      - 'news/**/*'
  
  - label: "content"
    title:
      - '/^content(\([^)]+\))?:/i'
    files:
      - 'news/**/*'
  
  - label: "mcp-integration"
    title:
      - '/^mcp(\([^)]+\))?:/i'
      - '/^integration(\([^)]+\))?:/i'
    files:
      - 'scripts/ep-mcp-client*'
      - '**/*mcp*'
  
  # Multi-language
  - label: "i18n"
    title:
      - '/^i18n(\([^)]+\))?:/i'
      - '/^lang(\([^)]+\))?:/i'
  
  - label: "translation"
    title:
      - '/^translation(\([^)]+\))?:/i'
  
  # Documentation
  - label: "documentation"
    title:
      - '/^docs(\([^)]+\))?:/i'
      - '/^doc(\([^)]+\))?:/i'
    files:
      - '**/*.md'
      - 'docs/**/*'
      - '**/*.mdx'
  
  # UI/UX
  - label: "ui"
    title:
      - '/^ui(\([^)]+\))?:/i'
    files:
      - 'styles.css'
      - '**/*.css'
      - 'index-*.html'
  
  - label: "design"
    title:
      - '/^design(\([^)]+\))?:/i'
  
  - label: "style"
    title:
      - '/^style(\([^)]+\))?:/i'
    files:
      - '**/*.css'
      - '**/*.scss'
  
  # Dependencies - CRITICAL FOR DEPENDABOT
  - label: "dependencies"
    title:
      - '/^build\(deps\):/i'
      - '/^build\(deps-dev\):/i'
      - '/^chore\(deps\):/i'
      - '/^chore\(deps-dev\):/i'
      - '/^deps(\([^)]+\))?:/i'
      - '/^dependency(\([^)]+\))?:/i'
      - '/^dependencies(\([^)]+\))?:/i'
      - '/^bump/i'
      - '/^update.*dependenc/i'
      - '/^upgrade.*dependenc/i'
  
  - label: "javascript"
    files:
      - 'package.json'
      - 'package-lock.json'
  
  - label: "github_actions"
    files:
      - '.github/workflows/**'
      - '.github/actions/**'
  
  # Security
  - label: "security"
    title:
      - '/^security(\([^)]+\))?:/i'
      - '/^sec(\([^)]+\))?:/i'
      - '/^fix-vuln(\([^)]+\))?:/i'
      - '/\[security\]/i'
  
  # Performance
  - label: "performance"
    title:
      - '/^perf(\([^)]+\))?:/i'
      - '/^optimize(\([^)]+\))?:/i'
  
  # Infrastructure
  - label: "infrastructure"
    title:
      - '/^infra(\([^)]+\))?:/i'
      - '/^ci(\([^)]+\))?:/i'
      - '/^cd(\([^)]+\))?:/i'
    files:
      - '.github/**/*'
      - 'scripts/**/*'
  
  - label: "config"
    title:
      - '/^config(\([^)]+\))?:/i'
      - '/^chore\(config\):/i'
    files:
      - '**/*.config.*'
      - '.github/**/*.json'
      - '.github/**/*.yml'
  
  # Code Quality
  - label: "refactor"
    title:
      - '/^refactor(\([^)]+\))?:/i'
  
  - label: "testing"
    title:
      - '/^test(\([^)]+\))?:/i'
    files:
      - '**/*.test.*'
      - '**/*.spec.*'
      - 'test/**/*'
  
  # Test Coverage
  - label: "test-coverage-impact"
    files:
      - '**/*.test.{js,ts}'
      - '**/__tests__/**'
  
  - label: "needs-tests"
    files:
      - 'scripts/**/*.js'
  
  - label: "e2e"
    title:
      - '/^e2e(\([^)]+\))?:/i'
      - '/end.?to.?end/i'
    files:
      - 'test/e2e/**/*'
      - '**/*.e2e.*'
  
  # Component-specific labels
  - label: "agents"
    title:
      - '/agent/i'
    files:
      - '.github/agents/**/*'
  
  - label: "workflows"
    files:
      - '.github/workflows/**/*'
  
  - label: "scripts"
    files:
      - 'scripts/**/*'
